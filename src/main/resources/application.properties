spring.application.name=DPMHC-backend
server.port=8081

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# ======================= PERFORMANCE OPTIMIZATION SETTINGS =======================

# Enable Hibernate query caching
spring.jpa.properties.hibernate.cache.use_second_level_cache=true
spring.jpa.properties.hibernate.cache.use_query_cache=true
spring.jpa.properties.hibernate.cache.region.factory_class=org.hibernate.cache.jcache.JCacheRegionFactory

# Hibernate query performance tuning
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# Connection pool performance
spring.jpa.properties.hibernate.connection.provider_disables_autocommit=true

# Query performance optimization
spring.jpa.properties.hibernate.query.plan_cache_max_size=2048
spring.jpa.properties.hibernate.query.plan_parameter_metadata_max_size=128

# Enable statistics for monitoring (disable in production)
spring.jpa.properties.hibernate.generate_statistics=false

# Fetch size optimization
spring.jpa.properties.hibernate.jdbc.fetch_size=50

# Enable lazy loading optimization
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=false

# Disable SQL init to prevent conflicts
spring.sql.init.mode=never

# Master-Slave Database Configuration
app.database.master.url=jdbc:mysql://localhost:3310/testdb
app.database.master.username=root
app.database.master.password=root
app.database.master.driver-class-name=com.mysql.cj.jdbc.Driver
app.database.master.max-pool-size=25
app.database.master.min-pool-size=5
app.database.master.connection-timeout-ms=30000
app.database.master.idle-timeout-ms=600000
app.database.master.max-lifetime-ms=1800000

# Slave Database 1 Configuration
app.database.slaves[0].name=Slave-1-Pool
app.database.slaves[0].url=jdbc:mysql://localhost:3311/testdb
app.database.slaves[0].username=root
app.database.slaves[0].password=root
app.database.slaves[0].driver-class-name=com.mysql.cj.jdbc.Driver
app.database.slaves[0].max-pool-size=20
app.database.slaves[0].min-pool-size=3
app.database.slaves[0].connection-timeout-ms=30000
app.database.slaves[0].idle-timeout-ms=600000
app.database.slaves[0].max-lifetime-ms=1800000
app.database.slaves[0].enabled=true

# Slave Database 2 Configuration
app.database.slaves[1].name=Slave-2-Pool
app.database.slaves[1].url=jdbc:mysql://localhost:3312/testdb
app.database.slaves[1].username=root
app.database.slaves[1].password=root
app.database.slaves[1].driver-class-name=com.mysql.cj.jdbc.Driver
app.database.slaves[1].max-pool-size=20
app.database.slaves[1].min-pool-size=3
app.database.slaves[1].connection-timeout-ms=30000
app.database.slaves[1].idle-timeout-ms=600000
app.database.slaves[1].max-lifetime-ms=1800000
app.database.slaves[1].enabled=true

# Connection Pool Configuration
app.database.connection-pool.auto-commit=false
app.database.connection-pool.leak-detection-threshold-ms=60000
app.database.connection-pool.connection-test-query=SELECT 1
app.database.connection-pool.cache-statements=true
app.database.connection-pool.prepared-statement-cache-size=250

# Health Check Configuration
app.database.health-check.enabled=true
app.database.health-check.interval-ms=30000
app.database.health-check.timeout-ms=5000
app.database.health-check.failure-threshold=3
app.database.health-check.recovery-threshold=2

# Load Balancing Configuration
app.database.load-balancing.default-strategy=ROUND_ROBIN
app.database.load-balancing.user-specific-routing=true
app.database.load-balancing.user-affinity-timeout-ms=300000
app.database.load-balancing.enable-metrics=true

# Keep all your existing JWT, file upload, mail, and other configurations below
app.jwt.secret=8f9e0b5f8d7a4c2d9a6f0d3b7c1e5a0f
app.jwt.expiration=300000

app.upload.max-file-size=52428800
app.upload.allowed-types=image/*,video/*,audio/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB
spring.servlet.multipart.enabled=true

cloudinary.cloud_name=da4mvzds5
cloudinary.api_key=697816152871815
cloudinary.api_secret=bEl3XcgLOQQ9FV6BRZLNfdPY8rQ

spring.websocket.max-text-message-size=8192
spring.websocket.max-binary-message-size=8192

spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.deserialization.accept-empty-string-as-null-object=true

spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=singhshammi58309@gmail.com
spring.mail.password=uqvaqimmfaijggmj
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.from=singhshammi58309@gmail.com

spring.data.web.pageable.default-page-size=10
spring.data.web.pageable.max-page-size=50
spring.data.web.pageable.page-parameter=page
spring.data.web.pageable.size-parameter=size

app.base.url=http://localhost:8081
app.refresh-token.max-per-user=10
app.refresh-token.cleanup-delay=86400000
app.jwt.refresh-expiration=7776000000
